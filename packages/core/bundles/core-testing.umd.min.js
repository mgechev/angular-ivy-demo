/**
 * @license Angular v7.1.0-ee8310445
 * (c) 2010-2018 Google, Inc. https://angular.io/
 * License: MIT
 */
!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("@angular/core/testing",["exports","@angular/core"],factory):factory((global.ng=global.ng||{},global.ng.core=global.ng.core||{},global.ng.core.testing={}),global.ng.core)}(this,function(exports,_angular_core){"use strict";var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}
/**
 * @license Angular v7.1.0-ee8310445
 * (c) 2010-2018 Google, Inc. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var _global="undefined"==typeof window?global:window;function runInTestZone(fn,context,finishCallback,failCallback){var currentZone=Zone.current,AsyncTestZoneSpec=Zone.AsyncTestZoneSpec;if(void 0===AsyncTestZoneSpec)throw new Error("AsyncTestZoneSpec is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/dist/async-test.js");var ProxyZoneSpec=Zone.ProxyZoneSpec;if(void 0===ProxyZoneSpec)throw new Error("ProxyZoneSpec is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/dist/proxy.js");var proxyZoneSpec=ProxyZoneSpec.get();ProxyZoneSpec.assertPresent();var proxyZone=Zone.current.getZoneWith("ProxyZoneSpec"),previousDelegate=proxyZoneSpec.getDelegate();return proxyZone.parent.run(function(){var testZoneSpec=new AsyncTestZoneSpec(function(){currentZone.run(function(){proxyZoneSpec.getDelegate()==testZoneSpec&&proxyZoneSpec.setDelegate(previousDelegate),finishCallback()})},function(error){currentZone.run(function(){proxyZoneSpec.getDelegate()==testZoneSpec&&proxyZoneSpec.setDelegate(previousDelegate),failCallback(error)})},"test");proxyZoneSpec.setDelegate(testZoneSpec)}),Zone.current.runGuarded(fn,context)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var ComponentFixture=function(){function ComponentFixture(componentRef,ngZone,_autoDetect){var _this=this;this.componentRef=componentRef,this.ngZone=ngZone,this._autoDetect=_autoDetect,this._isStable=!0,this._isDestroyed=!1,this._resolve=null,this._promise=null,this._onUnstableSubscription=null,this._onStableSubscription=null,this._onMicrotaskEmptySubscription=null,this._onErrorSubscription=null,this.changeDetectorRef=componentRef.changeDetectorRef,this.elementRef=componentRef.location,this.debugElement=_angular_core.getDebugNode(this.elementRef.nativeElement),this.componentInstance=componentRef.instance,this.nativeElement=this.elementRef.nativeElement,this.componentRef=componentRef,this.ngZone=ngZone,ngZone&&ngZone.runOutsideAngular(function(){_this._onUnstableSubscription=ngZone.onUnstable.subscribe({next:function(){_this._isStable=!1}}),_this._onMicrotaskEmptySubscription=ngZone.onMicrotaskEmpty.subscribe({next:function(){_this._autoDetect&&_this.detectChanges(!0)}}),_this._onStableSubscription=ngZone.onStable.subscribe({next:function(){var fn;
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */_this._isStable=!0,null!==_this._promise&&(fn=function(){ngZone.hasPendingMacrotasks||null!==_this._promise&&(_this._resolve(!0),_this._resolve=null,_this._promise=null)},Zone.current.scheduleMicroTask("scheduleMicrotask",fn))}}),_this._onErrorSubscription=ngZone.onError.subscribe({next:function(error){throw error}})})}return ComponentFixture.prototype._tick=function(checkNoChanges){this.changeDetectorRef.detectChanges(),checkNoChanges&&this.checkNoChanges()},ComponentFixture.prototype.detectChanges=function(checkNoChanges){var _this=this;void 0===checkNoChanges&&(checkNoChanges=!0),null!=this.ngZone?this.ngZone.run(function(){_this._tick(checkNoChanges)}):this._tick(checkNoChanges)},ComponentFixture.prototype.checkNoChanges=function(){this.changeDetectorRef.checkNoChanges()},ComponentFixture.prototype.autoDetectChanges=function(autoDetect){if(void 0===autoDetect&&(autoDetect=!0),null==this.ngZone)throw new Error("Cannot call autoDetectChanges when ComponentFixtureNoNgZone is set");this._autoDetect=autoDetect,this.detectChanges()},ComponentFixture.prototype.isStable=function(){return this._isStable&&!this.ngZone.hasPendingMacrotasks},ComponentFixture.prototype.whenStable=function(){var _this=this;return this.isStable()?Promise.resolve(!1):null!==this._promise?this._promise:(this._promise=new Promise(function(res){_this._resolve=res}),this._promise)},ComponentFixture.prototype._getRenderer=function(){return void 0===this._renderer&&(this._renderer=this.componentRef.injector.get(_angular_core.RendererFactory2,null)),this._renderer},ComponentFixture.prototype.whenRenderingDone=function(){var renderer=this._getRenderer();return renderer&&renderer.whenRenderingDone?renderer.whenRenderingDone():this.whenStable()},ComponentFixture.prototype.destroy=function(){this._isDestroyed||(this.componentRef.destroy(),null!=this._onUnstableSubscription&&(this._onUnstableSubscription.unsubscribe(),this._onUnstableSubscription=null),null!=this._onStableSubscription&&(this._onStableSubscription.unsubscribe(),this._onStableSubscription=null),null!=this._onMicrotaskEmptySubscription&&(this._onMicrotaskEmptySubscription.unsubscribe(),this._onMicrotaskEmptySubscription=null),null!=this._onErrorSubscription&&(this._onErrorSubscription.unsubscribe(),this._onErrorSubscription=null),this._isDestroyed=!0)},ComponentFixture}();var _Zone$1="undefined"!=typeof Zone?Zone:null,FakeAsyncTestZoneSpec=_Zone$1&&_Zone$1.FakeAsyncTestZoneSpec,ProxyZoneSpec=_Zone$1&&_Zone$1.ProxyZoneSpec,_fakeAsyncTestZoneSpec=null;function resetFakeAsyncZoneFallback(){_fakeAsyncTestZoneSpec=null,ProxyZoneSpec&&ProxyZoneSpec.assertPresent().resetDelegate()}var _inFakeAsyncCall=!1;function _getFakeAsyncZoneSpec(){if(null==_fakeAsyncTestZoneSpec)throw new Error("The code should be running in the fakeAsync zone to call this function");return _fakeAsyncTestZoneSpec}function flushMicrotasksFallback(){_getFakeAsyncZoneSpec().flushMicrotasks()}var _Zone="undefined"!=typeof Zone?Zone:null,fakeAsyncTestModule=_Zone&&_Zone[_Zone.__symbol__("fakeAsyncTest")];function resetFakeAsyncZone(){return fakeAsyncTestModule?fakeAsyncTestModule.resetFakeAsyncZone():resetFakeAsyncZoneFallback()}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var AsyncTestCompleter=function(){function AsyncTestCompleter(){var _this=this;this._promise=new Promise(function(res,rej){_this._resolve=res,_this._reject=rej})}return AsyncTestCompleter.prototype.done=function(value){this._resolve(value)},AsyncTestCompleter.prototype.fail=function(error,stackTrace){this._reject(error)},Object.defineProperty(AsyncTestCompleter.prototype,"promise",{get:function(){return this._promise},enumerable:!0,configurable:!0}),AsyncTestCompleter}(),_nextReferenceId=0,MetadataOverrider=function(){function MetadataOverrider(){this._references=new Map}return MetadataOverrider.prototype.overrideMetadata=function(metadataClass,oldMetadata,override){var props={};if(oldMetadata&&function(obj){var props=[];Object.keys(obj).forEach(function(prop){prop.startsWith("_")||props.push(prop)});var proto=obj;for(;proto=Object.getPrototypeOf(proto);)Object.keys(proto).forEach(function(protoProp){var desc=Object.getOwnPropertyDescriptor(proto,protoProp);!protoProp.startsWith("_")&&desc&&"get"in desc&&props.push(protoProp)});return props}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(oldMetadata).forEach(function(prop){return props[prop]=oldMetadata[prop]}),override.set){if(override.remove||override.add)throw new Error("Cannot set and add/remove "+_angular_core.ɵstringify(metadataClass)+" at the same time!");!function(metadata,set){for(var prop in set)metadata[prop]=set[prop]}(props,override.set)}return override.remove&&function(metadata,remove,references){var removeObjects=new Set,_loop_1=function(prop){var removeValue=remove[prop];removeValue instanceof Array?removeValue.forEach(function(value){removeObjects.add(_propHashKey(prop,value,references))}):removeObjects.add(_propHashKey(prop,removeValue,references))};for(var prop in remove)_loop_1(prop);var _loop_2=function(prop){var propValue=metadata[prop];propValue instanceof Array?metadata[prop]=propValue.filter(function(value){return!removeObjects.has(_propHashKey(prop,value,references))}):removeObjects.has(_propHashKey(prop,propValue,references))&&(metadata[prop]=void 0)};for(var prop in metadata)_loop_2(prop)}(props,override.remove,this._references),override.add&&function(metadata,add){for(var prop in add){var addValue=add[prop],propValue=metadata[prop];null!=propValue&&propValue instanceof Array?metadata[prop]=propValue.concat(addValue):metadata[prop]=addValue}}(props,override.add),new metadataClass(props)},MetadataOverrider}();
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function _propHashKey(propName,propValue,references){return propName+":"+JSON.stringify(propValue,function(key,value){return"function"==typeof value&&(value=function(ref,references){var id=references.get(ref);return id||(id=""+_angular_core.ɵstringify(ref)+_nextReferenceId++,references.set(ref,id)),id}(value,references)),value})}var testBed$1,reflection=new _angular_core.ɵReflectionCapabilities,OverrideResolver=function(){function OverrideResolver(){this.overrides=new Map,this.resolved=new Map}return OverrideResolver.prototype.setOverrides=function(overrides){var _this=this;this.overrides.clear(),overrides.forEach(function(_a){var type=_a[0],override=_a[1];return _this.overrides.set(type,override)})},OverrideResolver.prototype.getAnnotation=function(type){var _this=this;return reflection.annotations(type).find(function(a){return a instanceof _this.type})||null},OverrideResolver.prototype.resolve=function(type){var resolved=this.resolved.get(type)||null;if(!resolved){if(resolved=this.getAnnotation(type)){var override=this.overrides.get(type);if(override)resolved=(new MetadataOverrider).overrideMetadata(this.type,resolved,override)}this.resolved.set(type,resolved)}return resolved},OverrideResolver}(),DirectiveResolver=function(_super){function DirectiveResolver(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(DirectiveResolver,_super),Object.defineProperty(DirectiveResolver.prototype,"type",{get:function(){return _angular_core.Directive},enumerable:!0,configurable:!0}),DirectiveResolver}(OverrideResolver),ComponentResolver=function(_super){function ComponentResolver(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ComponentResolver,_super),Object.defineProperty(ComponentResolver.prototype,"type",{get:function(){return _angular_core.Component},enumerable:!0,configurable:!0}),ComponentResolver}(OverrideResolver),PipeResolver=function(_super){function PipeResolver(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(PipeResolver,_super),Object.defineProperty(PipeResolver.prototype,"type",{get:function(){return _angular_core.Pipe},enumerable:!0,configurable:!0}),PipeResolver}(OverrideResolver),NgModuleResolver=function(_super){function NgModuleResolver(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(NgModuleResolver,_super),Object.defineProperty(NgModuleResolver.prototype,"type",{get:function(){return _angular_core.NgModule},enumerable:!0,configurable:!0}),NgModuleResolver}(OverrideResolver),TestComponentRenderer=function(){function TestComponentRenderer(){}return TestComponentRenderer.prototype.insertRootElement=function(rootElementId){},TestComponentRenderer}(),ComponentFixtureAutoDetect=new _angular_core.InjectionToken("ComponentFixtureAutoDetect"),ComponentFixtureNoNgZone=new _angular_core.InjectionToken("ComponentFixtureNoNgZone"),_nextRootElementId$1=0,TestBedRender3=function(){function TestBedRender3(){this.platform=null,this.ngModule=null,this._moduleOverrides=[],this._componentOverrides=[],this._directiveOverrides=[],this._pipeOverrides=[],this._providerOverrides=[],this._rootProviderOverrides=[],this._providers=[],this._declarations=[],this._imports=[],this._schemas=[],this._activeFixtures=[],this._moduleRef=null,this._instantiated=!1}return TestBedRender3.initTestEnvironment=function(ngModule,platform,aotSummaries){var testBed=_getTestBedRender3();return testBed.initTestEnvironment(ngModule,platform,aotSummaries),testBed},TestBedRender3.resetTestEnvironment=function(){_getTestBedRender3().resetTestEnvironment()},TestBedRender3.configureCompiler=function(config){return _getTestBedRender3().configureCompiler(config),TestBedRender3},TestBedRender3.configureTestingModule=function(moduleDef){return _getTestBedRender3().configureTestingModule(moduleDef),TestBedRender3},TestBedRender3.compileComponents=function(){return _getTestBedRender3().compileComponents()},TestBedRender3.overrideModule=function(ngModule,override){return _getTestBedRender3().overrideModule(ngModule,override),TestBedRender3},TestBedRender3.overrideComponent=function(component,override){return _getTestBedRender3().overrideComponent(component,override),TestBedRender3},TestBedRender3.overrideDirective=function(directive,override){return _getTestBedRender3().overrideDirective(directive,override),TestBedRender3},TestBedRender3.overridePipe=function(pipe,override){return _getTestBedRender3().overridePipe(pipe,override),TestBedRender3},TestBedRender3.overrideTemplate=function(component,template){return _getTestBedRender3().overrideComponent(component,{set:{template:template,templateUrl:null}}),TestBedRender3},TestBedRender3.overrideTemplateUsingTestingModule=function(component,template){return _getTestBedRender3().overrideTemplateUsingTestingModule(component,template),TestBedRender3},TestBedRender3.prototype.overrideTemplateUsingTestingModule=function(component,template){throw new Error("Render3TestBed.overrideTemplateUsingTestingModule is not implemented yet")},TestBedRender3.overrideProvider=function(token,provider){return _getTestBedRender3().overrideProvider(token,provider),TestBedRender3},TestBedRender3.deprecatedOverrideProvider=function(token,provider){throw new Error("Render3TestBed.deprecatedOverrideProvider is not implemented")},TestBedRender3.get=function(token,notFoundValue){return void 0===notFoundValue&&(notFoundValue=_angular_core.Injector.THROW_IF_NOT_FOUND),_getTestBedRender3().get(token,notFoundValue)},TestBedRender3.createComponent=function(component){return _getTestBedRender3().createComponent(component)},TestBedRender3.resetTestingModule=function(){return _getTestBedRender3().resetTestingModule(),TestBedRender3},TestBedRender3.prototype.initTestEnvironment=function(ngModule,platform,aotSummaries){if(this.platform||this.ngModule)throw new Error("Cannot set base providers because it has already been called");this.platform=platform,this.ngModule=ngModule},TestBedRender3.prototype.resetTestEnvironment=function(){this.resetTestingModule(),this.platform=null,this.ngModule=null},TestBedRender3.prototype.resetTestingModule=function(){this._moduleOverrides=[],this._componentOverrides=[],this._directiveOverrides=[],this._pipeOverrides=[],this._providerOverrides=[],this._rootProviderOverrides=[],this._providers=[],this._declarations=[],this._imports=[],this._schemas=[],this._moduleRef=null,this._instantiated=!1,this._activeFixtures.forEach(function(fixture){try{fixture.destroy()}catch(e){console.error("Error during cleanup of component",{component:fixture.componentInstance,stacktrace:e})}}),this._activeFixtures=[]},TestBedRender3.prototype.configureCompiler=function(config){var _a;if(null!=config.useJit)throw new Error("the Render3 compiler JiT mode is not configurable !");config.providers&&(_a=this._providerOverrides).push.apply(_a,config.providers)},TestBedRender3.prototype.configureTestingModule=function(moduleDef){var _a,_b,_c,_d;this._assertNotInstantiated("R3TestBed.configureTestingModule","configure the test module"),moduleDef.providers&&(_a=this._providers).push.apply(_a,moduleDef.providers),moduleDef.declarations&&(_b=this._declarations).push.apply(_b,moduleDef.declarations),moduleDef.imports&&(_c=this._imports).push.apply(_c,moduleDef.imports),moduleDef.schemas&&(_d=this._schemas).push.apply(_d,moduleDef.schemas)},TestBedRender3.prototype.compileComponents=function(){return Promise.resolve()},TestBedRender3.prototype.get=function(token,notFoundValue){return void 0===notFoundValue&&(notFoundValue=_angular_core.Injector.THROW_IF_NOT_FOUND),this._initIfNeeded(),token===TestBedRender3?this:this._moduleRef.injector.get(token,notFoundValue)},TestBedRender3.prototype.execute=function(tokens,fn,context){var _this=this;this._initIfNeeded();var params=tokens.map(function(t){return _this.get(t)});return fn.apply(context,params)},TestBedRender3.prototype.overrideModule=function(ngModule,override){this._assertNotInstantiated("overrideModule","override module metadata"),this._moduleOverrides.push([ngModule,override])},TestBedRender3.prototype.overrideComponent=function(component,override){this._assertNotInstantiated("overrideComponent","override component metadata"),this._componentOverrides.push([component,override])},TestBedRender3.prototype.overrideDirective=function(directive,override){this._assertNotInstantiated("overrideDirective","override directive metadata"),this._directiveOverrides.push([directive,override])},TestBedRender3.prototype.overridePipe=function(pipe,override){this._assertNotInstantiated("overridePipe","override pipe metadata"),this._pipeOverrides.push([pipe,override])},TestBedRender3.prototype.overrideProvider=function(token,provider){var injectableDef,overrides="string"!=typeof token&&(injectableDef=_angular_core.ɵgetInjectableDef(token))&&"root"===injectableDef.providedIn?this._rootProviderOverrides:this._providerOverrides;provider.useFactory?overrides.push({provide:token,useFactory:provider.useFactory,deps:provider.deps||[]}):overrides.push({provide:token,useValue:provider.useValue})},TestBedRender3.prototype.deprecatedOverrideProvider=function(token,provider){throw new Error("No implemented in IVY")},TestBedRender3.prototype.createComponent=function(type){var _this=this;this._initIfNeeded();var testComponentRenderer=this.get(TestComponentRenderer),rootElId="root"+_nextRootElementId$1++;testComponentRenderer.insertRootElement(rootElId);var componentDef=type.ngComponentDef;if(!componentDef)throw new Error("It looks like '"+_angular_core.ɵstringify(type)+"' has not been IVY compiled - it has no 'ngComponentDef' field");var noNgZone=this.get(ComponentFixtureNoNgZone,!1),autoDetect=this.get(ComponentFixtureAutoDetect,!1),ngZone=noNgZone?null:this.get(_angular_core.NgZone,null),componentFactory=new _angular_core.ɵRender3ComponentFactory(componentDef),initComponent=function(){var componentRef=componentFactory.create(_angular_core.Injector.NULL,[],"#"+rootElId,_this._moduleRef);return new ComponentFixture(componentRef,ngZone,autoDetect)},fixture=ngZone?ngZone.run(initComponent):initComponent();return this._activeFixtures.push(fixture),fixture},TestBedRender3.prototype._initIfNeeded=function(){if(!this._instantiated){var resolvers=this._getResolvers(),testModuleType=this._createTestModule();compileNgModule(testModuleType,resolvers);var parentInjector=this.platform.injector;this._moduleRef=new _angular_core.ɵRender3NgModuleRef(testModuleType,parentInjector),this._instantiated=!0}},TestBedRender3.prototype._getResolvers=function(){var module=new NgModuleResolver;module.setOverrides(this._moduleOverrides);var component=new ComponentResolver;component.setOverrides(this._componentOverrides);var directive=new DirectiveResolver;directive.setOverrides(this._directiveOverrides);var pipe=new PipeResolver;return pipe.setOverrides(this._pipeOverrides),{module:module,component:component,directive:directive,pipe:pipe}},TestBedRender3.prototype._assertNotInstantiated=function(methodName,methodDescription){if(this._instantiated)throw new Error("Cannot "+methodDescription+" when the test module has already been instantiated. Make sure you are not using `inject` before `"+methodName+"`.")},TestBedRender3.prototype._createTestModule=function(){var rootProviderOverrides=this._rootProviderOverrides,RootScopeModule=function(){function RootScopeModule(){}return RootScopeModule.decorators=[{type:_angular_core.NgModule,args:[{providers:rootProviderOverrides.slice(),jit:!0}]}],RootScopeModule}(),ngZone=new _angular_core.NgZone({enableLongStackTrace:!0}),providers=[{provide:_angular_core.NgZone,useValue:ngZone}].concat(this._providers,this._providerOverrides),declarations=this._declarations,imports=[RootScopeModule,this.ngModule,this._imports],schemas=this._schemas;return function(){function DynamicTestModule(){}return DynamicTestModule.decorators=[{type:_angular_core.NgModule,args:[{providers:providers,declarations:declarations,imports:imports,schemas:schemas,jit:!0}]}],DynamicTestModule}()},TestBedRender3}();function _getTestBedRender3(){return testBed$1=testBed$1||new TestBedRender3}var EMPTY_ARRAY=[];function compileNgModule(moduleType,resolvers){var ngModule=resolvers.module.resolve(moduleType);if(null===ngModule)throw new Error(_angular_core.ɵstringify(moduleType)+" has not @NgModule annotation");_angular_core.ɵcompileNgModuleDefs(moduleType,ngModule);var compiledComponents=[];(function flatten(values){var out=[];values.forEach(function(value){Array.isArray(value)?out.push.apply(out,flatten(value)):out.push(value)});return out})(ngModule.declarations||EMPTY_ARRAY).forEach(function(declaration){var component=resolvers.component.resolve(declaration);if(component)return _angular_core.ɵcompileComponent(declaration,component),void compiledComponents.push(declaration);var directive=resolvers.directive.resolve(declaration);if(directive)_angular_core.ɵcompileDirective(declaration,directive);else{var pipe=resolvers.pipe.resolve(declaration);pipe&&_angular_core.ɵcompilePipe(declaration,pipe)}});var transitiveScope=function transitiveScopesFor(moduleType,resolvers){if(!isNgModule(moduleType))throw new Error(moduleType.name+" does not have an ngModuleDef");var def=moduleType.ngModuleDef;if(null!==def.transitiveCompileScopes)return def.transitiveCompileScopes;var scopes={compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};def.declarations.forEach(function(declared){var declaredWithDefs=declared;void 0!==declaredWithDefs.ngPipeDef?scopes.compilation.pipes.add(declared):scopes.compilation.directives.add(declared)});def.imports.forEach(function(imported){var ngModule=resolvers.module.resolve(imported);if(null===ngModule)throw new Error("Importing "+imported.name+" which does not have an @ngModule");compileNgModule(imported,resolvers);var importedScope=transitiveScopesFor(imported,resolvers);importedScope.exported.directives.forEach(function(entry){return scopes.compilation.directives.add(entry)}),importedScope.exported.pipes.forEach(function(entry){return scopes.compilation.pipes.add(entry)})});def.exports.forEach(function(exported){var exportedTyped=exported;if(isNgModule(exportedTyped)){var exportedScope=transitiveScopesFor(exportedTyped,resolvers);exportedScope.exported.directives.forEach(function(entry){scopes.compilation.directives.add(entry),scopes.exported.directives.add(entry)}),exportedScope.exported.pipes.forEach(function(entry){scopes.compilation.pipes.add(entry),scopes.exported.pipes.add(entry)})}else void 0!==exportedTyped.ngPipeDef?scopes.exported.pipes.add(exportedTyped):scopes.exported.directives.add(exportedTyped)});def.transitiveCompileScopes=scopes;return scopes}(moduleType,resolvers);compiledComponents.forEach(function(cmp){return _angular_core.ɵpatchComponentDefWithScope(cmp,transitiveScope)})}function isNgModule(value){return void 0!==value.ngModuleDef}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function unimplemented(){throw Error("unimplemented")}var testBed,TestingCompiler=function(_super){function TestingCompiler(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TestingCompiler,_super),Object.defineProperty(TestingCompiler.prototype,"injector",{get:function(){throw unimplemented()},enumerable:!0,configurable:!0}),TestingCompiler.prototype.overrideModule=function(module,overrides){throw unimplemented()},TestingCompiler.prototype.overrideDirective=function(directive,overrides){throw unimplemented()},TestingCompiler.prototype.overrideComponent=function(component,overrides){throw unimplemented()},TestingCompiler.prototype.overridePipe=function(directive,overrides){throw unimplemented()},TestingCompiler.prototype.loadAotSummaries=function(summaries){throw unimplemented()},TestingCompiler.prototype.getComponentFactory=function(component){throw unimplemented()},TestingCompiler.prototype.getComponentFromError=function(error){throw unimplemented()},TestingCompiler.decorators=[{type:_angular_core.Injectable}],TestingCompiler}(_angular_core.Compiler),TestingCompilerFactory=function(){return function(){}}(),UNDEFINED=new Object,_nextRootElementId=0,TestBedViewEngine=function(){function TestBedViewEngine(){this._instantiated=!1,this._compiler=null,this._moduleRef=null,this._moduleFactory=null,this._compilerOptions=[],this._moduleOverrides=[],this._componentOverrides=[],this._directiveOverrides=[],this._pipeOverrides=[],this._providers=[],this._declarations=[],this._imports=[],this._schemas=[],this._activeFixtures=[],this._testEnvAotSummaries=function(){return[]},this._aotSummaries=[],this._templateOverrides=[],this._isRoot=!0,this._rootProviderOverrides=[],this.platform=null,this.ngModule=null}return TestBedViewEngine.initTestEnvironment=function(ngModule,platform,aotSummaries){var testBed=_getTestBedViewEngine();return testBed.initTestEnvironment(ngModule,platform,aotSummaries),testBed},TestBedViewEngine.resetTestEnvironment=function(){_getTestBedViewEngine().resetTestEnvironment()},TestBedViewEngine.resetTestingModule=function(){return _getTestBedViewEngine().resetTestingModule(),TestBedViewEngine},TestBedViewEngine.configureCompiler=function(config){return _getTestBedViewEngine().configureCompiler(config),TestBedViewEngine},TestBedViewEngine.configureTestingModule=function(moduleDef){return _getTestBedViewEngine().configureTestingModule(moduleDef),TestBedViewEngine},TestBedViewEngine.compileComponents=function(){return getTestBed().compileComponents()},TestBedViewEngine.overrideModule=function(ngModule,override){return _getTestBedViewEngine().overrideModule(ngModule,override),TestBedViewEngine},TestBedViewEngine.overrideComponent=function(component,override){return _getTestBedViewEngine().overrideComponent(component,override),TestBedViewEngine},TestBedViewEngine.overrideDirective=function(directive,override){return _getTestBedViewEngine().overrideDirective(directive,override),TestBedViewEngine},TestBedViewEngine.overridePipe=function(pipe,override){return _getTestBedViewEngine().overridePipe(pipe,override),TestBedViewEngine},TestBedViewEngine.overrideTemplate=function(component,template){return _getTestBedViewEngine().overrideComponent(component,{set:{template:template,templateUrl:null}}),TestBedViewEngine},TestBedViewEngine.overrideTemplateUsingTestingModule=function(component,template){return _getTestBedViewEngine().overrideTemplateUsingTestingModule(component,template),TestBedViewEngine},TestBedViewEngine.overrideProvider=function(token,provider){return _getTestBedViewEngine().overrideProvider(token,provider),TestBedViewEngine},TestBedViewEngine.deprecatedOverrideProvider=function(token,provider){return _getTestBedViewEngine().deprecatedOverrideProvider(token,provider),TestBedViewEngine},TestBedViewEngine.get=function(token,notFoundValue){return void 0===notFoundValue&&(notFoundValue=_angular_core.Injector.THROW_IF_NOT_FOUND),_getTestBedViewEngine().get(token,notFoundValue)},TestBedViewEngine.createComponent=function(component){return _getTestBedViewEngine().createComponent(component)},TestBedViewEngine.prototype.initTestEnvironment=function(ngModule,platform,aotSummaries){if(this.platform||this.ngModule)throw new Error("Cannot set base providers because it has already been called");this.platform=platform,this.ngModule=ngModule,aotSummaries&&(this._testEnvAotSummaries=aotSummaries)},TestBedViewEngine.prototype.resetTestEnvironment=function(){this.resetTestingModule(),this.platform=null,this.ngModule=null,this._testEnvAotSummaries=function(){return[]}},TestBedViewEngine.prototype.resetTestingModule=function(){_angular_core.ɵclearOverrides(),this._aotSummaries=[],this._templateOverrides=[],this._compiler=null,this._moduleOverrides=[],this._componentOverrides=[],this._directiveOverrides=[],this._pipeOverrides=[],this._isRoot=!0,this._rootProviderOverrides=[],this._moduleRef=null,this._moduleFactory=null,this._compilerOptions=[],this._providers=[],this._declarations=[],this._imports=[],this._schemas=[],this._instantiated=!1,this._activeFixtures.forEach(function(fixture){try{fixture.destroy()}catch(e){console.error("Error during cleanup of component",{component:fixture.componentInstance,stacktrace:e})}}),this._activeFixtures=[]},TestBedViewEngine.prototype.configureCompiler=function(config){this._assertNotInstantiated("TestBed.configureCompiler","configure the compiler"),this._compilerOptions.push(config)},TestBedViewEngine.prototype.configureTestingModule=function(moduleDef){var _a,_b,_c,_d;this._assertNotInstantiated("TestBed.configureTestingModule","configure the test module"),moduleDef.providers&&(_a=this._providers).push.apply(_a,moduleDef.providers),moduleDef.declarations&&(_b=this._declarations).push.apply(_b,moduleDef.declarations),moduleDef.imports&&(_c=this._imports).push.apply(_c,moduleDef.imports),moduleDef.schemas&&(_d=this._schemas).push.apply(_d,moduleDef.schemas),moduleDef.aotSummaries&&this._aotSummaries.push(moduleDef.aotSummaries)},TestBedViewEngine.prototype.compileComponents=function(){var _this=this;if(this._moduleFactory||this._instantiated)return Promise.resolve(null);var moduleType=this._createCompilerAndModule();return this._compiler.compileModuleAndAllComponentsAsync(moduleType).then(function(moduleAndComponentFactories){_this._moduleFactory=moduleAndComponentFactories.ngModuleFactory})},TestBedViewEngine.prototype._initIfNeeded=function(){if(!this._instantiated){if(!this._moduleFactory)try{var moduleType=this._createCompilerAndModule();this._moduleFactory=this._compiler.compileModuleAndAllComponentsSync(moduleType).ngModuleFactory}catch(e){var errorCompType=this._compiler.getComponentFromError(e);throw errorCompType?new Error("This test module uses the component "+_angular_core.ɵstringify(errorCompType)+' which is using a "templateUrl" or "styleUrls", but they were never compiled. Please call "TestBed.compileComponents" before your test.'):e}for(var _i=0,_a=this._templateOverrides;_i<_a.length;_i++){var _b=_a[_i],component=_b.component,templateOf=_b.templateOf,compFactory=this._compiler.getComponentFactory(templateOf);_angular_core.ɵoverrideComponentView(component,compFactory)}var ngZone=new _angular_core.NgZone({enableLongStackTrace:!0}),providers=[{provide:_angular_core.NgZone,useValue:ngZone}],ngZoneInjector=_angular_core.Injector.create({providers:providers,parent:this.platform.injector,name:this._moduleFactory.moduleType.name});this._moduleRef=this._moduleFactory.create(ngZoneInjector),this._moduleRef.injector.get(_angular_core.ApplicationInitStatus).runInitializers(),this._instantiated=!0}},TestBedViewEngine.prototype._createCompilerAndModule=function(){var _this=this,providers=this._providers.concat([{provide:TestBed,useValue:this}]),declarations=this._declarations.concat(this._templateOverrides.map(function(entry){return entry.templateOf})),rootScopeImports=[],rootProviderOverrides=this._rootProviderOverrides;if(this._isRoot){var RootScopeModule=function(){function RootScopeModule(){}return RootScopeModule.decorators=[{type:_angular_core.NgModule,args:[{providers:rootProviderOverrides.slice(),jit:!0}]}],RootScopeModule}();rootScopeImports.push(RootScopeModule)}providers.push({provide:_angular_core.ɵAPP_ROOT,useValue:this._isRoot});var imports=[rootScopeImports,this.ngModule,this._imports],schemas=this._schemas,DynamicTestModule=function(){function DynamicTestModule(){}return DynamicTestModule.decorators=[{type:_angular_core.NgModule,args:[{providers:providers,declarations:declarations,imports:imports,schemas:schemas,jit:!0}]}],DynamicTestModule}(),compilerFactory=this.platform.injector.get(TestingCompilerFactory);this._compiler=compilerFactory.createTestingCompiler(this._compilerOptions);for(var _i=0,_a=[this._testEnvAotSummaries].concat(this._aotSummaries);_i<_a.length;_i++){var summary=_a[_i];this._compiler.loadAotSummaries(summary)}return this._moduleOverrides.forEach(function(entry){return _this._compiler.overrideModule(entry[0],entry[1])}),this._componentOverrides.forEach(function(entry){return _this._compiler.overrideComponent(entry[0],entry[1])}),this._directiveOverrides.forEach(function(entry){return _this._compiler.overrideDirective(entry[0],entry[1])}),this._pipeOverrides.forEach(function(entry){return _this._compiler.overridePipe(entry[0],entry[1])}),DynamicTestModule},TestBedViewEngine.prototype._assertNotInstantiated=function(methodName,methodDescription){if(this._instantiated)throw new Error("Cannot "+methodDescription+" when the test module has already been instantiated. Make sure you are not using `inject` before `"+methodName+"`.")},TestBedViewEngine.prototype.get=function(token,notFoundValue){if(void 0===notFoundValue&&(notFoundValue=_angular_core.Injector.THROW_IF_NOT_FOUND),this._initIfNeeded(),token===TestBed)return this;var result=this._moduleRef.injector.get(token,UNDEFINED);return result===UNDEFINED?this._compiler.injector.get(token,notFoundValue):result},TestBedViewEngine.prototype.execute=function(tokens,fn,context){var _this=this;this._initIfNeeded();var params=tokens.map(function(t){return _this.get(t)});return fn.apply(context,params)},TestBedViewEngine.prototype.overrideModule=function(ngModule,override){this._assertNotInstantiated("overrideModule","override module metadata"),this._moduleOverrides.push([ngModule,override])},TestBedViewEngine.prototype.overrideComponent=function(component,override){this._assertNotInstantiated("overrideComponent","override component metadata"),this._componentOverrides.push([component,override])},TestBedViewEngine.prototype.overrideDirective=function(directive,override){this._assertNotInstantiated("overrideDirective","override directive metadata"),this._directiveOverrides.push([directive,override])},TestBedViewEngine.prototype.overridePipe=function(pipe,override){this._assertNotInstantiated("overridePipe","override pipe metadata"),this._pipeOverrides.push([pipe,override])},TestBedViewEngine.prototype.overrideProvider=function(token,provider){this.overrideProviderImpl(token,provider)},TestBedViewEngine.prototype.deprecatedOverrideProvider=function(token,provider){this.overrideProviderImpl(token,provider,!0)},TestBedViewEngine.prototype.overrideProviderImpl=function(token,provider,deprecated){void 0===deprecated&&(deprecated=!1);var def=null;"string"!=typeof token&&(def=_angular_core.ɵgetInjectableDef(token))&&"root"===def.providedIn&&(provider.useFactory?this._rootProviderOverrides.push({provide:token,useFactory:provider.useFactory,deps:provider.deps||[]}):this._rootProviderOverrides.push({provide:token,useValue:provider.useValue}));var value,flags=0;provider.useFactory?(flags|=1024,value=provider.useFactory):(flags|=256,value=provider.useValue);var deps=(provider.deps||[]).map(function(dep){var depToken,depFlags=0;return Array.isArray(dep)?dep.forEach(function(entry){entry instanceof _angular_core.Optional?depFlags|=2:entry instanceof _angular_core.SkipSelf?depFlags|=1:depToken=entry}):depToken=dep,[depFlags,depToken]});_angular_core.ɵoverrideProvider({token:token,flags:flags,deps:deps,value:value,deprecatedBehavior:deprecated})},TestBedViewEngine.prototype.overrideTemplateUsingTestingModule=function(component,template){this._assertNotInstantiated("overrideTemplateUsingTestingModule","override template");var OverrideComponent=function(){function OverrideComponent(){}return OverrideComponent.decorators=[{type:_angular_core.Component,args:[{selector:"empty",template:template,jit:!0}]}],OverrideComponent}();this._templateOverrides.push({component:component,templateOf:OverrideComponent})},TestBedViewEngine.prototype.createComponent=function(component){var _this=this;this._initIfNeeded();var componentFactory=this._compiler.getComponentFactory(component);if(!componentFactory)throw new Error("Cannot create the component "+_angular_core.ɵstringify(component)+" as it was not imported into the testing module!");var noNgZone=this.get(ComponentFixtureNoNgZone,!1),autoDetect=this.get(ComponentFixtureAutoDetect,!1),ngZone=noNgZone?null:this.get(_angular_core.NgZone,null),testComponentRenderer=this.get(TestComponentRenderer),rootElId="root"+_nextRootElementId++;testComponentRenderer.insertRootElement(rootElId);var initComponent=function(){var componentRef=componentFactory.create(_angular_core.Injector.NULL,[],"#"+rootElId,_this._moduleRef);return new ComponentFixture(componentRef,ngZone,autoDetect)},fixture=ngZone?ngZone.run(initComponent):initComponent();return this._activeFixtures.push(fixture),fixture},TestBedViewEngine}(),TestBed=_angular_core.ɵivyEnabled?TestBedRender3:TestBedViewEngine,getTestBed=_angular_core.ɵivyEnabled?_getTestBedRender3:_getTestBedViewEngine;function _getTestBedViewEngine(){return testBed=testBed||new TestBedViewEngine}function inject(tokens,fn){var testBed=getTestBed();return tokens.indexOf(AsyncTestCompleter)>=0?function(){var _this=this;return testBed.compileComponents().then(function(){var completer=testBed.get(AsyncTestCompleter);return testBed.execute(tokens,fn,_this),completer.promise})}:function(){return testBed.execute(tokens,fn,this)}}var InjectSetupWrapper=function(){function InjectSetupWrapper(_moduleDef){this._moduleDef=_moduleDef}return InjectSetupWrapper.prototype._addModule=function(){var moduleDef=this._moduleDef();moduleDef&&getTestBed().configureTestingModule(moduleDef)},InjectSetupWrapper.prototype.inject=function(tokens,fn){var self=this;return function(){return self._addModule(),inject(tokens,fn).call(this)}},InjectSetupWrapper}();
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var _global$1="undefined"==typeof window?global:window;_global$1.beforeEach&&_global$1.beforeEach(function(){TestBed.resetTestingModule(),resetFakeAsyncZone()});exports.TestBed=TestBed,exports.getTestBed=getTestBed,exports.inject=inject,exports.InjectSetupWrapper=InjectSetupWrapper,exports.withModule=function(moduleDef,fn){return fn?function(){var testBed=getTestBed();return moduleDef&&testBed.configureTestingModule(moduleDef),fn.apply(this)}:new InjectSetupWrapper(function(){return moduleDef})},exports.ɵMetadataOverrider=MetadataOverrider,exports.async=function(fn){var _Zone="undefined"!=typeof Zone?Zone:null;if(!_Zone)return function(){return Promise.reject("Zone is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/dist/zone.js")};var asyncTest=_Zone&&_Zone[_Zone.__symbol__("asyncTest")];return"function"==typeof asyncTest?asyncTest(fn):function(fn){return _global.jasmine?function(done){done||((done=function(){}).fail=function(e){throw e}),runInTestZone(fn,this,done,function(err){if("string"==typeof err)return done.fail(new Error(err));done.fail(err)})}:function(){var _this=this;return new Promise(function(finishCallback,failCallback){runInTestZone(fn,_this,finishCallback,failCallback)})}}(fn)},exports.ComponentFixture=ComponentFixture,exports.resetFakeAsyncZone=resetFakeAsyncZone,exports.fakeAsync=function(fn){return fakeAsyncTestModule?fakeAsyncTestModule.fakeAsync(fn):function(fn){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var proxyZoneSpec=ProxyZoneSpec.assertPresent();if(_inFakeAsyncCall)throw new Error("fakeAsync() calls can not be nested");_inFakeAsyncCall=!0;try{if(!_fakeAsyncTestZoneSpec){if(proxyZoneSpec.getDelegate()instanceof FakeAsyncTestZoneSpec)throw new Error("fakeAsync() calls can not be nested");_fakeAsyncTestZoneSpec=new FakeAsyncTestZoneSpec}var res=void 0,lastProxyZoneSpec=proxyZoneSpec.getDelegate();proxyZoneSpec.setDelegate(_fakeAsyncTestZoneSpec);try{res=fn.apply(this,args),flushMicrotasksFallback()}finally{proxyZoneSpec.setDelegate(lastProxyZoneSpec)}if(_fakeAsyncTestZoneSpec.pendingPeriodicTimers.length>0)throw new Error(_fakeAsyncTestZoneSpec.pendingPeriodicTimers.length+" periodic timer(s) still in the queue.");if(_fakeAsyncTestZoneSpec.pendingTimers.length>0)throw new Error(_fakeAsyncTestZoneSpec.pendingTimers.length+" timer(s) still in the queue.");return res}finally{_inFakeAsyncCall=!1,resetFakeAsyncZoneFallback()}}}(fn)},exports.tick=function(millis){return void 0===millis&&(millis=0),fakeAsyncTestModule?fakeAsyncTestModule.tick(millis):function(millis){void 0===millis&&(millis=0),_getFakeAsyncZoneSpec().tick(millis)}(millis)},exports.flush=function(maxTurns){return fakeAsyncTestModule?fakeAsyncTestModule.flush(maxTurns):function(maxTurns){return _getFakeAsyncZoneSpec().flush(maxTurns)}(maxTurns)},exports.discardPeriodicTasks=function(){if(fakeAsyncTestModule)return fakeAsyncTestModule.discardPeriodicTasks();_getFakeAsyncZoneSpec().pendingPeriodicTimers.length=0},exports.flushMicrotasks=function(){return fakeAsyncTestModule?fakeAsyncTestModule.flushMicrotasks():flushMicrotasksFallback()},exports.TestComponentRenderer=TestComponentRenderer,exports.ComponentFixtureAutoDetect=ComponentFixtureAutoDetect,exports.ComponentFixtureNoNgZone=ComponentFixtureNoNgZone,exports.__core_private_testing_placeholder__="",exports.ɵTestingCompiler=TestingCompiler,exports.ɵTestingCompilerFactory=TestingCompilerFactory,exports.ɵb=TestBedRender3,exports.ɵc=_getTestBedRender3,exports.ɵa=TestBedViewEngine,Object.defineProperty(exports,"__esModule",{value:!0})});